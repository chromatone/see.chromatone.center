import{a as g,k as i,l,m as u,u as e,z as d,y,F as x,q as w,D as z,O as k,E as B}from"./chromatone.4fd8b215.js";import{u as C,t as r}from"./index.683f4c57.js";const F=["x","y","width","height","fill","opacity"],N=["font-size","opacity","x","y"],q=["transform"],A=["width","height","fill","stroke-width"],D=["fill","font-size","opacity","x","y"],v={__name:"square",setup(E){const{scene:O,width:n,height:a,td:_,lr:S,showNotes:f}=C(),b=g();function p(o,m=100,c=100){let s,t;switch(o){case 0:s=0,t=0;break;case 1:s=1,t=0;break;case 2:s=2,t=0;break;case 3:s=3,t=0;break;case 4:s=3,t=1;break;case 5:s=3,t=2;break;case 6:s=3,t=3;break;case 7:s=2,t=3;break;case 8:s=1,t=3;break;case 9:s=0,t=3;break;case 10:s=0,t=2;break;case 11:s=0,t=1;break}return`translate(${s*m/4},${t*c/4})`}function h(o){return o>r.chromaAvg?r.note.silent?0:o:0}return(o,m)=>{var c;return i(),l("g",{ref_key:"stage",ref:b},[u("rect",{style:{"user-select":"none",transition:"all 300ms ease"},x:e(n)/4,y:e(a)/4,width:e(n)/2,height:e(a)/2,fill:e(r).note.silent?"#333":(c=e(r))==null?void 0:c.note.color,opacity:e(r).rms*10,filter:"url(#blur-more)"},null,8,F),e(f)?(i(),l("text",{key:0,style:{"user-select":"none",transition:"all 300ms ease"},fill:"white","font-family":"Commissioner, sans-serif","font-size":e(a)/20,"text-anchor":"middle","dominant-baseline":"middle",opacity:e(r).rms*10,x:e(n)/2,y:e(a)/2},d(e(r).note.name),9,N)):y("",!0),(i(!0),l(x,null,w(e(B)(e(r).chroma,-3),(s,t)=>(i(),l("g",{class:"around",style:{cursor:"pointer"},key:t,transform:p(t,e(n),e(a))},[u("rect",{style:{"user-select":"none",transition:"all 300ms ease"},x:"0",y:"0",width:e(n)/4,height:e(a)/4,fill:e(z)(t,3,h(s),h(s)),"stroke-width":e(_)*10,stroke:"black",filter:"url(#blur)"},null,8,A),e(f)?(i(),l("text",{key:0,style:{"user-select":"none",transition:"all 300ms ease"},fill:e(k)[t].length==2?"hsla(0,0%,0%,0.8)":"hsla(0,0%,100%,0.9)","font-family":"Commissioner, sans-serif","font-size":e(a)/30,"text-anchor":"middle","dominant-baseline":"middle",opacity:h(s),x:e(n)/8,y:e(a)/8},d(e(k)[t]),9,D)):y("",!0)],8,q))),128))],512)}}};export{v as default};
