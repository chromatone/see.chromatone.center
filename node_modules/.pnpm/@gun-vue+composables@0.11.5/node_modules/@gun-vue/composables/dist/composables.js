"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("./vendor.cjs.js");function be(e=o.ref(null)){const{pressed:t}=o.useMousePressed(),n=o.reactive({x:0,y:0,normX:0,normY:0,pressed:t,inside:!1});o.onMounted(()=>{document.addEventListener("mousemove",a);const{isOutside:s}=o.useMouseInElement(e);o.watch(s,r=>{n.inside=!r})}),o.onBeforeUnmount(()=>{document.removeEventListener("mousemove",a)});function a(s,r=e.value){const i=r.closest("svg");if(!i)return;var u=i.createSVGPoint();u.x=s.clientX,u.y=s.clientY;let c=u.matrixTransform(i.getScreenCTM().inverse());n.x=c.x,n.y=c.y}return{area:e,mouse:n}}const qe={light:new o.ColorHash({saturation:[.05,.08,.22],lightness:[.85,.87,.9]}),pale:new o.ColorHash({saturation:[.05,.42,.52],lightness:[.75,.77,.9]}),regular:new o.ColorHash({saturation:[.1,.5,.7],lightness:[.3,.5,.7]}),deep:new o.ColorHash({saturation:[.5,.6,.7],lightness:[.5,.55,.6]}),dark:new o.ColorHash({saturation:[.02,.5,.6],lightness:[.18,.2,.5]})};function se(e="deep"){return typeof e=="object"?new o.ColorHash(e):qe[e]}function Xe({pub:e,size:t=200,light:n=.5,overlay:a=.5,draw:s="squares",attachment:r="fixed"}={}){if(!!e)return{background:`linear-gradient(hsla(255,0%,${n*100}%,${a}), hsla(255,0%,${n*100}%,${a})), url(${o.gunAvatar({pub:e,draw:s,reflect:!1,size:t})})`,backgroundSize:"cover, cover",backgroundAttachment:`${r},${r}`}}const Ve=se("deep");function ye(e=o.ref(),{TIMEOUT:t=1e4}={}){const n=h();return e=o.ref(e),{account:o.computed(()=>{const s=o.reactive({pub:e,color:o.computed(()=>e.value?Ve.hex(e.value):"gray"),profile:{name:""},pulse:0,lastSeen:o.computed(()=>{let r=Date.now()-s.pulse;return r>t?o.ms(r):"online"}),blink:!1,db:n.user(e.value)});return n.user(e.value).get("pulse").on(r=>{s.blink=!s.blink,s.pulse=r}).back().get("profile").map().on((r,i)=>{s.profile[i]=r}),s})}}function Qe(){const e=h(),{user:t}=A(),n=o.ref("general"),a=o.reactive({general:{}}),s=e.user(d.pub).get("chat");s.map().on((f,m)=>{var D;const[v,y]=m.split("@");a[v]=a[v]||{},f?a[v][y]=f:(D=a==null?void 0:a[v])==null||delete D[y]});function r(f){s.get(`${o.slugify(f)||f}@${t.pub}`).put(!0,null,{opt:{cert:d.features.chat}})}const i=o.computed(()=>e.user(d.pub).get("chat/"+n.value)),u=o.computed(()=>{const f=o.reactive({});return i.value.map().on((m,v)=>{const y=v.substring(0,13),D=v.substring(14);f[v]={timestamp:y,author:D,text:m}}),f}),c=o.computed(()=>Object.values(u.value||{})),l=o.refDebounced(c),g=o.computed(()=>l.value.sort((f,m)=>f.timestamp>m.timestamp?1:-1));function p(f){if(!f)return;let m=Date.now();i.value.get(`${m}@${t.pub}`).put(f,null,{opt:{cert:d.features.chat}})}return{send:p,addChat:r,currentChat:n,chats:a,messages:u,sorted:g}}function _e(e,{parse:t=!0}={}){const n=h(),{user:a}=A(),s=o.reactive({}),r=o.ref();n.user(e).get("epub").once(p=>r.value=p),n.user(e).get("chat").get(a.pub).map().once(function(p,f){i(p,f,e,this)}),n.user().get("chat").get(e).map().once(function(p,f){i(p,f,a.pub,this)});function i(p,f,m,v){v.map().on(async(y,D)=>{if(y&&y.startsWith("SEA")){const C=await o.SEA.secret(r.value,a.pair()),z=await o.SEA.work(C,f),k=await o.SEA.decrypt(y,z);if(!k||typeof k!="object")return;s[D]={timestamp:k.timestamp,author:m,text:k.text}}})}async function u(p){if(!p)return;const f=new Date,m={timestamp:f.getTime(),text:p},v=f.toLocaleDateString("en-CA"),y=await o.SEA.secret(r.value,a.pair()),D=await o.SEA.work(y,v),C=await o.SEA.encrypt(m,D);n.user().get("chat").get(e).get(v).set(C)}const c=o.computed(()=>Object.values(s||{})),l=o.refDebounced(c),g=o.computed(()=>l.value.sort((p,f)=>p.timestamp>f.timestamp?1:-1));return{send:u,messages:s,sorted:g}}function et(e){const t=h(),{user:n}=A(),a=o.reactive({}),s=o.ref(!1);return t.user(e).get("epub").on(i=>s.value=i),t.user(e).get("chat").get(n.pub).map().map().on((i,u)=>{i&&!i.startsWith("SEA")||(a[u]=i)}),t.user().get("chat").get(e).map().map().on((i,u)=>{i&&!i.startsWith("SEA")||(a[u]=i)}),{count:o.computed(()=>Object.keys(a).length),available:s}}function tt(){const e=h(),{user:t}=A(),n=o.reactive({});return t.is&&(e.user().get("chat").map().on((a,s)=>{n[s]=a}),e.user().get("mates").map().on(async(a,s)=>{const r=await e.user(s).get("mates").get(t.pub),i=await e.user(s).get("epub");r&&i&&(n[s]=a)})),{list:n}}const re="https://etogun.glitch.me/gun",B=o.useStorage("peer",re),O=o.reactive({list:[],peer:B.value,host:new URL(B.value).hostname,status:"offline",started:0,pulse:0,lag:0,diff:o.computed(()=>O.pulse-O.started),age:o.computed(()=>o.ms(O.diff)),delay:o.computed(()=>Date.now()-O.pulse),blink:!1});o.watch(()=>O.pulse,(e,t)=>{O.blink=!O.blink,O.lag=e-t-500});function nt(e){B.value=e,window.location.reload()}function at(){B.value=re,window.location.reload()}function ot(){const e=h();return O.pulse==0&&e.get(O.host).map().on((t,n)=>{O[n]=t}),{relay:O,setPeer:nt,resetPeer:at}}window.Buffer=o.buffer.Buffer;window.setImmediate=setTimeout;exports.gun=void 0;exports.gun2=void 0;function h(e={localStorage:!1}){return exports.gun||(exports.gun=o.Gun({peers:[B.value],...e})),exports.gun}function Se(e={localStorage:!1}){return exports.gun2||(exports.gun2=o.Gun({peers:[B.value],...e})),exports.gun2}var pe,ve;const st=(ve=(pe=o.Gun)==null?void 0:pe.node)==null?void 0:ve.soul;var he,we;const Pe=(we=(he=o.Gun)==null?void 0:he.text)==null?void 0:we.random,_=o.reactive({}),ee=o.reactive({});async function ke({source:e="https://raw.githubusercontent.com/wiki/amark/gun/volunteer.dht.md"}={}){let a=(await(await fetch(e)).text()).match(o.urlRegex());return a.push(O.peer),a=Array.from(a),a.forEach(s=>{let r=new URL(s);if(r.pathname==="/gun"&&r.pathname.indexOf("~~")===-1){let i=performance.now();fetch(r.href,{method:"HEAD",mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"}).then(u=>{let c=performance.now();u.ok?_[r.hostname]={host:r.hostname,ping:(c-i).toFixed(),url:r.href}:ee[r.hostname]=u}).catch(u=>{ee[r.hostname]=u})}}),_}function rt(){return{relays:_,errors:ee,loadRelays:ke}}function it(e){return e.length==44&&e.charAt(43)=="="}async function ct(e,t,n){const a=await o.SEA.secret(t.epub,n);return await o.SEA.encrypt(e,a)}async function ut(e,t,n){const a=await o.SEA.secret(t.epub,n);return await o.SEA.decrypt(e,a)}async function I(e){return await o.SEA.work(e,null,null,{name:"SHA-256"})}async function K(e){let t=typeof e=="string"?e:JSON.stringify(e),n=await I(t);return{hashed:t,hash:n}}async function lt(e,t){return await o.SEA.work(e,t,null,{name:"SHA-1",encode:"hex"})}function je(e){if(!e)return;const t=/[\+=\/]/g;return e.replace(t,dt)}function dt(e){switch(e){case"+":return"-";case"=":return".";case"/":return"_"}}function ft(e){if(!e)return;const t=/[\._\-]/g;return e.replace(t,mt)}function mt(e){switch(e){case"-":return"+";case".":return"=";case"_":return"/"}}function gt(e,t){if(e){if(Object.prototype.toString.call(e)==="[object Object]")return e}else return t||{};try{return JSON.parse(e)}catch{return t||{}}}async function ie({pair:e,tag:t="word",dot:n="",users:a="*",personal:s=!1}={}){let r={"*":`${t}`};n&&(r["."]=n),s&&(r["+"]="*");try{return await o.SEA.certify(a,r,e)}catch(i){console.log("cert error: ",i)}}window.issueCert=ie;async function te({pair:e,list:t=[]}={}){const n={};for(let a of t)n[a.tag]=await ie({...a,pair:e});return n}const x=o.reactive({word:null,def:null}),Y=o.useStorage("dict-lang","en");o.watch(x,()=>{x.word&&x.def&&wt(x)});function pt(){const e=h();A();const t=o.ref(""),n=o.computed(()=>ce(t.value));async function a(){const c=await I(n.value);e.get("dict").get("#word").get(c).put(n.value),x.word=c,t.value=""}const s=o.reactive({});e.user(d.pub).get("dict").map().on(async(c,l)=>{if(!c)return;let g=l.slice(0,44),p=l.slice(45,89),f=await e.get("dict").get("#def").get(p).then();if(!!f){try{f=JSON.parse(f)}catch(m){console.log(m,f);return}(f==null?void 0:f.lang)==Y.value&&(s[g]=s[g]||await e.get("dict").get("#word").get(g).then())}});const r=o.reactive({});e.get("dict").get("#word").map().once((c,l)=>{c.includes(" ")||(r[l]=c)});const i=o.computed(()=>{let c=Object.entries(r).map(l=>({text:l[1],hash:l[0]}));return new o.Fuse(c,{keys:["text"],includeScore:!0})}),u=o.computed(()=>i.value.search(t.value));return{input:t,found:u,words:r,linked:s,word:n,addWord:a}}function vt(e){const t=h(),n=o.ref();return t.get("dict").get("#word").get(e).once((a,s)=>{n.value=ce(a)}),{word:n}}function ht(){const e=h(),t=o.reactive({text:"",lang:Y,part:"noun"});async function n(){const{hash:u,hashed:c}=await K(t);e.get("dict").get("#def").get(u).put(c),x.def=u,t.text="",t.part=null}const a=o.reactive({});e.user(d.pub).get("dict").map().on(async(u,c)=>{if(!u)return;let l=c.slice(45,89),g=await e.get("dict").get("#def").get(l).then();if(!!g)try{if(g=JSON.parse(g),(g==null?void 0:g.lang)!=Y.value)return;a[l]=a[l]||g}catch(p){console.log(p,g)}});const s=o.reactive({});e.get("dict").get("#def").map().once((u,c)=>{s[c]=JSON.parse(u)});const r=o.computed(()=>{let u=[];for(let c in s)u.push({hash:c,...s[c]});return new o.Fuse(u,{keys:["text"],includeScore:!0})}),i=o.computed(()=>r.value.search(t.text));return{def:t,addDef:n,defs:s,found:i,linked:a}}async function wt({word:e,def:t}={}){var r;const n=h(),{user:a}=A();let s=await n.user(d.pub).get("dict").get(`${e}:${t}@${a.pub}`).then();n.user(d.pub).get("dict").get(`${e}:${t}@${a.pub}`).put(!s,null,{opt:{cert:(r=d.features)==null?void 0:r.dict}}),x.word=null,x.def=null}function bt(e){const t=h(),n=o.reactive({});return t.user(d.pub).get("dict").map().on((a,s)=>{var g;if(s.indexOf(e)==-1)return;const{from:i,to:u,author:c}=q(s);let l=i==e?u:i;n[l]=n[l]||{},a?n[l][c]=a:((g=n==null?void 0:n[l])==null||delete g[c],Object.keys(n==null?void 0:n[l]).length==0&&(n==null||delete n[l]))}),n}function yt(e){const t=h(),n=o.reactive({});return t.user(d.pub).get("dict").map().on((a,s)=>{var c;const{from:r,to:i,author:u}=q(s);u==e&&(n[r]=n[r]||{},a?n[r][i]=a:((c=n==null?void 0:n[r])==null||delete c[i],Object.keys(n[r]).length==0&&(n==null||delete n[r])))}),n}function St(){const e=h(),t=o.reactive({});return e.user(d.pub).get("dict").map().once(async(n,a)=>{const{from:s,to:r,author:i}=q(a);t[i]=t[i]||{},t[i][s]=t[i][s]||{},t[i][s][r]=n}),t}function Pt(){const e=h(),t=o.reactive({});return e.user(d.pub).get("dict").map().once(async(n,a)=>{let s=a.slice(45,89),r=await e.get("dict").get("#def").get(s).then();if(!!r){try{r=JSON.parse(r)}catch(i){console.log(r,i)}!(r!=null&&r.lang)||(t[r==null?void 0:r.lang]=t[r==null?void 0:r.lang]||0,t[r==null?void 0:r.lang]++)}}),t}function q(e){return{from:e.slice(0,44),to:e.slice(45,89),author:e.slice(-87)}}function kt({text:e,stress:t}={}){const n="&#x301;";if(!e)return;let a=e.slice(0,t+1)+n+e.slice(t+1);return a[0].toUpperCase()+a.slice(1)}function ce(e){if(!e)return"";let t=e.toLowerCase().matchAll(/\p{L}/gu,"");return Array.from(t).map(n=>n[0]).join("")}const jt={noun:{en:"noun",ru:"\u0441\u0443\u0449",underline:"solid"},adj:{en:"adjective",ru:"\u043F\u0440\u0438\u043B",underline:"wavy"},verb:{en:"verb",ru:"\u0433\u043B\u0430\u0433",underline:"double"},adv:{en:"adverb",ru:"\u043D\u0430\u0440\u0435\u0447",underline:"dotted"}},At=[{code:"aa",name:"Afar",native:"Afar"},{code:"ab",name:"Abkhazian",native:"\u0410\u04A7\u0441\u0443\u0430"},{code:"af",name:"Afrikaans",native:"Afrikaans"},{code:"ak",name:"Akan",native:"Akana"},{code:"am",name:"Amharic",native:"\u12A0\u121B\u122D\u129B"},{code:"an",name:"Aragonese",native:"Aragon\xE9s"},{code:"ar",name:"Arabic",native:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",rtl:1},{code:"as",name:"Assamese",native:"\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE"},{code:"av",name:"Avar",native:"\u0410\u0432\u0430\u0440"},{code:"ay",name:"Aymara",native:"Aymar"},{code:"az",name:"Azerbaijani",native:"Az\u0259rbaycanca / \u0622\u0630\u0631\u0628\u0627\u064A\u062C\u0627\u0646"},{code:"ba",name:"Bashkir",native:"\u0411\u0430\u0448\u04A1\u043E\u0440\u0442"},{code:"be",name:"Belarusian",native:"\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F"},{code:"bg",name:"Bulgarian",native:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},{code:"bh",name:"Bihari",native:"\u092D\u094B\u091C\u092A\u0941\u0930\u0940"},{code:"bi",name:"Bislama",native:"Bislama"},{code:"bm",name:"Bambara",native:"Bamanankan"},{code:"bn",name:"Bengali",native:"\u09AC\u09BE\u0982\u09B2\u09BE"},{code:"bo",name:"Tibetan",native:"\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42 / Bod skad"},{code:"br",name:"Breton",native:"Brezhoneg"},{code:"bs",name:"Bosnian",native:"Bosanski"},{code:"ca",name:"Catalan",native:"Catal\xE0"},{code:"ce",name:"Chechen",native:"\u041D\u043E\u0445\u0447\u0438\u0439\u043D"},{code:"ch",name:"Chamorro",native:"Chamoru"},{code:"co",name:"Corsican",native:"Corsu"},{code:"cr",name:"Cree",native:"Nehiyaw"},{code:"cs",name:"Czech",native:"\u010Cesky"},{code:"cu",name:"Old Church Slavonic / Old Bulgarian",native:"\u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A / slov\u011Bn\u012Dsk\u016D"},{code:"cv",name:"Chuvash",native:"\u0427\u0103\u0432\u0430\u0448"},{code:"cy",name:"Welsh",native:"Cymraeg"},{code:"da",name:"Danish",native:"Dansk"},{code:"de",name:"German",native:"Deutsch"},{code:"dv",name:"Divehi",native:"\u078B\u07A8\u0788\u07AC\u0780\u07A8\u0784\u07A6\u0790\u07B0",rtl:1},{code:"dz",name:"Dzongkha",native:"\u0F47\u0F7C\u0F44\u0F0B\u0F41"},{code:"ee",name:"Ewe",native:"\u0190\u028B\u025B"},{code:"el",name:"Greek",native:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC"},{code:"en",name:"English",native:"English"},{code:"eo",name:"Esperanto",native:"Esperanto"},{code:"es",name:"Spanish",native:"Espa\xF1ol"},{code:"et",name:"Estonian",native:"Eesti"},{code:"eu",name:"Basque",native:"Euskara"},{code:"fa",name:"Persian",native:"\u0641\u0627\u0631\u0633\u06CC",rtl:1},{code:"ff",name:"Peul",native:"Fulfulde"},{code:"fi",name:"Finnish",native:"Suomi"},{code:"fj",name:"Fijian",native:"Na Vosa Vakaviti"},{code:"fo",name:"Faroese",native:"F\xF8royskt"},{code:"fr",name:"French",native:"Fran\xE7ais"},{code:"fy",name:"West Frisian",native:"Frysk"},{code:"ga",name:"Irish",native:"Gaeilge"},{code:"gd",name:"Scottish Gaelic",native:"G\xE0idhlig"},{code:"gl",name:"Galician",native:"Galego"},{code:"gn",name:"Guarani",native:"Ava\xF1e'\u1EBD"},{code:"gu",name:"Gujarati",native:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0"},{code:"gv",name:"Manx",native:"Gaelg"},{code:"ha",name:"Hausa",native:"\u0647\u064E\u0648\u064F\u0633\u064E",rtl:1},{code:"he",name:"Hebrew",native:"\u05E2\u05D1\u05E8\u05D9\u05EA",rtl:1},{code:"hi",name:"Hindi",native:"\u0939\u093F\u0928\u094D\u0926\u0940"},{code:"ho",name:"Hiri Motu",native:"Hiri Motu"},{code:"hr",name:"Croatian",native:"Hrvatski"},{code:"ht",name:"Haitian",native:"Kr\xE8yol ayisyen"},{code:"hu",name:"Hungarian",native:"Magyar"},{code:"hy",name:"Armenian",native:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},{code:"hz",name:"Herero",native:"Otsiherero"},{code:"ia",name:"Interlingua",native:"Interlingua"},{code:"id",name:"Indonesian",native:"Bahasa Indonesia"},{code:"ie",name:"Interlingue",native:"Interlingue"},{code:"ig",name:"Igbo",native:"Igbo"},{code:"ii",name:"Sichuan Yi",native:"\uA187\uA259 / \u56DB\u5DDD\u5F5D\u8BED"},{code:"ik",name:"Inupiak",native:"I\xF1upiak"},{code:"io",name:"Ido",native:"Ido"},{code:"is",name:"Icelandic",native:"\xCDslenska"},{code:"it",name:"Italian",native:"Italiano"},{code:"iu",name:"Inuktitut",native:"\u1403\u14C4\u1483\u144E\u1450\u1466"},{code:"ja",name:"Japanese",native:"\u65E5\u672C\u8A9E"},{code:"jv",name:"Javanese",native:"Basa Jawa"},{code:"ka",name:"Georgian",native:"\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8"},{code:"kg",name:"Kongo",native:"KiKongo"},{code:"ki",name:"Kikuyu",native:"G\u0129k\u0169y\u0169"},{code:"kj",name:"Kuanyama",native:"Kuanyama"},{code:"kk",name:"Kazakh",native:"\u049A\u0430\u0437\u0430\u049B\u0448\u0430"},{code:"kl",name:"Greenlandic",native:"Kalaallisut"},{code:"km",name:"Cambodian",native:"\u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A"},{code:"kn",name:"Kannada",native:"\u0C95\u0CA8\u0CCD\u0CA8\u0CA1"},{code:"ko",name:"Korean",native:"\uD55C\uAD6D\uC5B4"},{code:"kr",name:"Kanuri",native:"Kanuri"},{code:"ks",name:"Kashmiri",native:"\u0915\u0936\u094D\u092E\u0940\u0930\u0940 / \u0643\u0634\u0645\u064A\u0631\u064A",rtl:1},{code:"ku",name:"Kurdish",native:"Kurd\xEE / \u0643\u0648\u0631\u062F\u06CC",rtl:1},{code:"kv",name:"Komi",native:"\u041A\u043E\u043C\u0438"},{code:"kw",name:"Cornish",native:"Kernewek"},{code:"ky",name:"Kirghiz",native:"K\u0131rg\u0131zca / \u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430"},{code:"la",name:"Latin",native:"Latina"},{code:"lb",name:"Luxembourgish",native:"L\xEBtzebuergesch"},{code:"lg",name:"Ganda",native:"Luganda"},{code:"li",name:"Limburgian",native:"Limburgs"},{code:"ln",name:"Lingala",native:"Ling\xE1la"},{code:"lo",name:"Laotian",native:"\u0EA5\u0EB2\u0EA7 / Pha xa lao"},{code:"lt",name:"Lithuanian",native:"Lietuvi\u0173"},{code:"lu",name:"Luba-Katanga",native:"Tshiluba"},{code:"lv",name:"Latvian",native:"Latvie\u0161u"},{code:"mg",name:"Malagasy",native:"Malagasy"},{code:"mh",name:"Marshallese",native:"Kajin Majel / Ebon"},{code:"mi",name:"Maori",native:"M\u0101ori"},{code:"mk",name:"Macedonian",native:"\u041C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438"},{code:"ml",name:"Malayalam",native:"\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02"},{code:"mn",name:"Mongolian",native:"\u041C\u043E\u043D\u0433\u043E\u043B"},{code:"mo",name:"Moldovan",native:"Moldoveneasc\u0103"},{code:"mr",name:"Marathi",native:"\u092E\u0930\u093E\u0920\u0940"},{code:"ms",name:"Malay",native:"Bahasa Melayu"},{code:"mt",name:"Maltese",native:"bil-Malti"},{code:"my",name:"Burmese",native:"\u1019\u103C\u1014\u103A\u1019\u102C\u1005\u102C"},{code:"na",name:"Nauruan",native:"Dorerin Naoero"},{code:"nb",name:"Norwegian Bokm\xE5l",native:"Norsk bokm\xE5l"},{code:"nd",name:"North Ndebele",native:"Sindebele"},{code:"ne",name:"Nepali",native:"\u0928\u0947\u092A\u093E\u0932\u0940"},{code:"ng",name:"Ndonga",native:"Oshiwambo"},{code:"nl",name:"Dutch",native:"Nederlands"},{code:"nn",name:"Norwegian Nynorsk",native:"Norsk nynorsk"},{code:"no",name:"Norwegian",native:"Norsk"},{code:"nr",name:"South Ndebele",native:"isiNdebele"},{code:"nv",name:"Navajo",native:"Din\xE9 bizaad"},{code:"ny",name:"Chichewa",native:"Chi-Chewa"},{code:"oc",name:"Occitan",native:"Occitan"},{code:"oj",name:"Ojibwa",native:"\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0 / Anishinaabemowin"},{code:"om",name:"Oromo",native:"Oromoo"},{code:"or",name:"Oriya",native:"\u0B13\u0B21\u0B3C\u0B3F\u0B06"},{code:"os",name:"Ossetian / Ossetic",native:"\u0418\u0440\u043E\u043D\u0430\u0443"},{code:"pa",name:"Panjabi / Punjabi",native:"\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40 / \u092A\u0902\u091C\u093E\u092C\u0940 / \u067E\u0646\u062C\u0627\u0628\u064A"},{code:"pi",name:"Pali",native:"P\u0101li / \u092A\u093E\u0934\u093F"},{code:"pl",name:"Polish",native:"Polski"},{code:"ps",name:"Pashto",native:"\u067E\u069A\u062A\u0648",rtl:1},{code:"pt",name:"Portuguese",native:"Portugu\xEAs"},{code:"qu",name:"Quechua",native:"Runa Simi"},{code:"rm",name:"Raeto Romance",native:"Rumantsch"},{code:"rn",name:"Kirundi",native:"Kirundi"},{code:"ro",name:"Romanian",native:"Rom\xE2n\u0103"},{code:"ru",name:"Russian",native:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439"},{code:"rw",name:"Rwandi",native:"Kinyarwandi"},{code:"sa",name:"Sanskrit",native:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D"},{code:"sc",name:"Sardinian",native:"Sardu"},{code:"sd",name:"Sindhi",native:"\u0938\u093F\u0928\u0927\u093F"},{code:"se",name:"Northern Sami",native:"S\xE1megiella"},{code:"sg",name:"Sango",native:"S\xE4ng\xF6"},{code:"sh",name:"Serbo-Croatian",native:"Srpskohrvatski / \u0421\u0440\u043F\u0441\u043A\u043E\u0445\u0440\u0432\u0430\u0442\u0441\u043A\u0438"},{code:"si",name:"Sinhalese",native:"\u0DC3\u0DD2\u0D82\u0DC4\u0DBD"},{code:"sk",name:"Slovak",native:"Sloven\u010Dina"},{code:"sl",name:"Slovenian",native:"Sloven\u0161\u010Dina"},{code:"sm",name:"Samoan",native:"Gagana Samoa"},{code:"sn",name:"Shona",native:"chiShona"},{code:"so",name:"Somalia",native:"Soomaaliga"},{code:"sq",name:"Albanian",native:"Shqip"},{code:"sr",name:"Serbian",native:"\u0421\u0440\u043F\u0441\u043A\u0438"},{code:"ss",name:"Swati",native:"SiSwati"},{code:"st",name:"Southern Sotho",native:"Sesotho"},{code:"su",name:"Sundanese",native:"Basa Sunda"},{code:"sv",name:"Swedish",native:"Svenska"},{code:"sw",name:"Swahili",native:"Kiswahili"},{code:"ta",name:"Tamil",native:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD"},{code:"te",name:"Telugu",native:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41"},{code:"tg",name:"Tajik",native:"\u0422\u043E\u04B7\u0438\u043A\u04E3"},{code:"th",name:"Thai",native:"\u0E44\u0E17\u0E22 / Phasa Thai"},{code:"ti",name:"Tigrinya",native:"\u1275\u130D\u122D\u129B"},{code:"tk",name:"Turkmen",native:"\u0422\u0443\u0440\u043A\u043C\u0435\u043D / \u062A\u0631\u0643\u0645\u0646"},{code:"tl",name:"Tagalog / Filipino",native:"Tagalog"},{code:"tn",name:"Tswana",native:"Setswana"},{code:"to",name:"Tonga",native:"Lea Faka-Tonga"},{code:"tr",name:"Turkish",native:"T\xFCrk\xE7e"},{code:"ts",name:"Tsonga",native:"Xitsonga"},{code:"tt",name:"Tatar",native:"Tatar\xE7a"},{code:"tw",name:"Twi",native:"Twi"},{code:"ty",name:"Tahitian",native:"Reo M\u0101`ohi"},{code:"ug",name:"Uyghur",native:"Uy\u01A3urq\u0259 / \u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5"},{code:"uk",name:"Ukrainian",native:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},{code:"ur",name:"Urdu",native:"\u0627\u0631\u062F\u0648",rtl:1},{code:"uz",name:"Uzbek",native:"\u040E\u0437\u0431\u0435\u043A"},{code:"ve",name:"Venda",native:"Tshiven\u1E13a"},{code:"vi",name:"Vietnamese",native:"Ti\u1EBFng Vi\u1EC7t"},{code:"vo",name:"Volap\xFCk",native:"Volap\xFCk"},{code:"wa",name:"Walloon",native:"Walon"},{code:"wo",name:"Wolof",native:"Wollof"},{code:"xh",name:"Xhosa",native:"isiXhosa"},{code:"yi",name:"Yiddish",native:"\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9",rtl:1},{code:"yo",name:"Yoruba",native:"Yor\xF9b\xE1"},{code:"za",name:"Zhuang",native:"Cuengh / T\xF4\xF4 / \u58EE\u8BED"},{code:"zh",name:"Chinese",native:"\u4E2D\u6587"},{code:"zu",name:"Zulu",native:"isiZulu"}];function Ae(e,t,n,a=!0){const s=document.createElement("a");s.download=n,a?(s.href=URL.createObjectURL(new Blob([e],{type:t})),setTimeout(function(){URL.revokeObjectURL(s.href)},1500)):s.href=`data:${t};,${e}`,s.dataset.downloadurl=[t,s.download,s.href].join(":"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function Et(e,t=n=>console.log(n)){let n=e.target.files[0];const a=2e7;if(n.size>a){console.error("File is bigger than "+Ee(a))+"";return}let s=new FileReader;s.readAsText(n),s.onload=()=>{t(s.result)}}function Ft({preserveRatio:e=!1,picSize:t=100,maxSize:n=1024e4}={}){const a=o.reactive({errors:[],status:null,output:{}});function s(m){const v=m.target.files;u(),v.length&&(a.status="loading",[...v].map(y=>r(y)))}function r(m){return i(m).then(v=>{a.output={name:p(m.name),content:v,size:Ee(Math.round(v.length*3/4))},a.status="success"}),null}function i(m){return new Promise((v,y)=>{const D=new FileReader,C=new FileReader,z=m.slice(0,4);D.readAsArrayBuffer(z),D.onloadend=k=>{let P=l(g(k.target.result));if(c(m.size)>c(n)&&a.errors.push({message:"File size is too large!"}),P===!1&&a.errors.push({message:"File type is not supported!"}),a.errors.length>0){f(a.errors),u();return}else C.readAsDataURL(m)},C.onloadend=()=>{const k=new Image;k.src=C.result,k.onload=()=>{const P=e?k.naturalWidth/k.naturalHeight:1,b=document.createElement("canvas");b.width=t,b.height=t/P,b.getContext("2d").drawImage(k,0,0,b.width,b.height),v(b.toDataURL())}},D.onerror=k=>y(k),C.onerror=k=>y(k)})}function u(){a.status="",a.errors=[],a.output={}}function c(m){return m*Math.pow(10,-6)}function l(m){return["89504E47","47494638","FFD8FFDB","FFD8FFE0","FFD8FFE1","FFD8FFE2","FFD8FFE3","FFD8FFE8","FFD8FFED","3C3F786D","3C737667"].includes(m)}function g(m){const v=new Uint8Array(m);let y=[];return v.forEach(D=>{y.push(D.toString(16))}),y.join("").toUpperCase()}function p(m){return m.replace(/\.[^/.]+$/,"").toLowerCase()}function f(m){m.length===2?console.error("File upload failed due to size and type!"):console.error(m[0].message+m[0].type)}return{state:a,handleChange:s}}const Dt=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function Ee(e){let t=0,n=parseInt(e,10)||0;for(;n>=1024&&++t;)n=n/1024;return n.toFixed(n<10&&t>0?1:0)+" "+Dt[t]}function Rt(e){var t=null;if(typeof e!="string")return t;var n=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return n&&n.length&&(t=n[1]),t}function Fe(e){var t;return(t=e.match(/[^:]\w+\/[\w-+\d.]+(?=;|,)/))==null?void 0:t[0]}function De(e){return e.substring(e.indexOf("/")+1,e.indexOf(";base64"))}var de={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};function ne(e){for(var t in de)if(e.indexOf(t)===0)return de[t]}function Re({frontmatter:e=null,text:t=""}=md){let n="";if(typeof e=="object")return n=`---
${o.YAML.stringify(e)}---
 `,n+t}function Oe(e){const n=/^(?:\-\-\-)(.*?)(?:\-\-\-|\.\.\.)(?:\n*\s*)(.*)/s.exec(e.trim());let a,s;if(n){a=n[1],s=n==null?void 0:n[2];try{a=o.YAML.parse(a)}catch{a={}}return{frontmatter:a,content:s}}else return{frontmatter:{},content:e.trim()}}function Ot(){const e=new o.markdown({linkify:!0,typographer:!0});return e.use(o.lib,{externalTarget:"_blank"}),e}function Ce({hash:e="",loadMedia:t=!0}={}){const n=h(),a=o.reactive({});n.get("posts").get("#index").get(e).on(async(i,u)=>{try{Object.assign(a,JSON.parse(i))}catch{a.raw=i}t&&["icon","cover","text"].forEach(c=>{a[c]&&n.get("posts").get(`#${c}`).get(a[c]).on(l=>{a[c]=l})})});const s=o.ref(!1);async function r(){s.value=!0,await Te(a),s.value=!1}return{post:a,download:r,downloading:s}}async function Me(e,t){var r;const{user:n}=A();t.icon=await V("icon",t.icon),t.cover=await V("cover",t.cover),t.text=await V("text",t.text);const{hashed:a,hash:s}=await K(t);console.log(s,t,e),exports.gun.get("posts").get("#index").get(`${s}`).put(a),exports.gun.user(d.pub).get("posts").get(`${e}:${s}@${n.pub}`).put(!0,null,{opt:{cert:(r=d.features)==null?void 0:r.posts}})}async function Te(e){let{title:t}=e;const{zipPost:n,addFile:a,downloadZip:s}=ue();if(t&&!e.raw)await n({...e});else{t="file";const r=await I(e.raw);await a({title:je(r),file:e.raw})}return await s({title:t}),!0}async function ae(e,t){return e&&t&&typeof t=="string"&&t.length==44&&t.slice(0,5)!="data:"?await exports.gun.get("posts").get(`#${e}`).get(t).then():t}async function V(e,t){if(e&&t){const n=await I(t);return exports.gun.get("posts").get(`#${e}`).get(`${n}`).put(t),n}else return t}async function Ct(e){let t;try{t=JSON.parse(e)}catch{t={base64:e}}return t}function Mt({tag:e,hash:t}={}){const n=o.ref(0),a=o.computed(()=>o.ms(Date.now()-n.value||1e3));exports.gun.get("posts").get("#index").get(t).on(function(r,i,u){n.value=u.put[">"]});async function s(){let r=await exports.gun.get("posts").get("#index").get(t).then();exports.gun.get("posts").get("#index").get(t).put(r)}return{timestamp:n,msTime:a,refresh:s}}function Tt(e){if(!e)return;const t=h(),n=o.reactive({}),a=o.reactive({});t.user(d.pub).get("posts").map().on(function(l,g){let p=g.indexOf(e);if(p==-1)return;let f=g.slice(-87),m=g.slice(0,44),v=g.slice(45,89);p==0?(n[v]=n[v]||{},n[v][f]=l):(a[m]=a[m]||{},a[m][f]=l)});const s=o.computed(()=>{let l=0;for(let g in n){e:for(let p in n[g])if(n[g][p]){l++;break e}}return l}),r=o.computed(()=>{let l=0;for(let g in a){e:for(let p in a[g])if(a[g][p]){l++;break e}}return l}),i=o.ref(!1);async function u(){i.value=!0,i.value=!await xe(e,n)}function c(l){Le(e,l)}return{posts:n,backlinks:a,countPosts:s,countBacklinks:r,downloadPosts:u,downloading:i,uploadPosts:c}}async function xe(e,t){if(!t)return;const{zip:n,zipPost:a,downloadZip:s}=ue(),r={};for(let i in t)r[i]=Ce({tag:e,hash:i}).post,await a({...r[i]});return await s({title:`#${e}`}),!0}function Le(e,t){[...t].forEach(async n=>{const a=await o.JSZip.loadAsync(n);a.comment&&console.info("Zip file comment: "+a.comment),a.forEach(async(s,r)=>{var i;if(s.endsWith("index.md")){let u=s.slice(0,-9),c=await r.async("string"),{frontmatter:l,content:g}=Oe(c);if(l=l||{},l.title=(l==null?void 0:l.title)||u,l.icon){const f=await a.file(`${u}/${l.icon}`).async("base64"),m=ne(f);l.icon=`data:${m};base64,${f}`}if(l.cover){const f=await((i=a==null?void 0:a.file(`${u}/${l.cover}`))==null?void 0:i.async("base64")),m=ne(f);l.cover=`data:${m};base64,${f}`}let p={...l,content:g};Me(e,p)}})})}function xt(){const e=h(),t=o.ref(),n=o.computed(()=>o.slugify(t.value)),a=o.reactive({list:{},all:o.computed(()=>{const r=[];for(let i in a.list)r.push({hash:i,tag:a.list[i]});return r.sort((i,u)=>i&&u&&i.tag.toLowerCase()<u.tag.toLowerCase()?-1:1)}),count:o.computed(()=>a.all.length),fuse:o.computed(()=>new o.Fuse(a.all,{includeScore:!0,keys:["tag"]})),results:o.computed(()=>t.value?a.fuse.search(n.value):[]),minScore:o.computed(()=>{let r=100;return a.results.forEach(i=>{i.score<r&&(r=i.score)}),r})});e.get("#tags").map().on((r,i)=>{if(!!r)try{data=JSON.parse(r)}catch{a.list[i]=r}});async function s(r=n.value){if(!r)return;let i=o.slugify(r);const u=await I(i);e.get("#tags").get(`${u}`).put(i)}return{search:t,slug:n,tags:a,addTag:s}}function Lt(e,t=currentRoom.pub){const n=h(),a=o.reactive({});return n.user(t).get(`${e}`).map().on(function(s,r){let i=r.substring(0,87);a[i]=a[i]||{},a[i][r.substring(88)]=s}),a}async function Nt(e,t,n=currentRoom.pub,a){var i;if(a||(a=await gun.get(`~${n}`).get("features").get(e).then()),!a&&n==rootRoom.pub&&(a=(i=rootRoom.features)==null?void 0:i[`#${e}`]),!a&&n!=user.pub){console.log("No certificate found");return}const{hashed:s,hash:r}=await hashObj(t);gun.get(`~${n}`).get(`#${e}`).get(`${r}@${user.pub}`).put(s,null,{opt:{cert:a}})}function $t(e,t,n=currentRoom.pub){const a=o.reactive({});return gun.get(`~${n}`).get(`#${e}`).map().once(function(s,r){r.includes(t)&&(a.hash=t,a.tag=e,a.data=safeJSONParse(s),a.authors=a.authors||{},a.authors[r.slice(-87)]=!0)}),{record:a}}const Gt=["rooms"];function Bt({tag:e,hash:t,back:n}={}){const{user:a}=A(),s=o.ref("\u{1F44D}"),i=h().user(d.pub);o.watchEffect(()=>{Gt.includes(e)?i.get(e).get(`${t}@${a.pub}`).on(c=>{c&&c!==!0&&(s.value=c)}):i.get("posts").get(`${e}:${t}@${a.pub}`).on(c=>{c&&c!==!0&&(s.value=c)})});function u(c){Ne({tag:e,hash:t,back:n,reaction:U(c||s.value)})}return{reaction:s,react:u}}async function Ne({tag:e,hash:t,back:n,reaction:a=!0}={}){var i,u;const{user:s}=A(),r=h();if(console.log(e,t,a),e=="rooms"){let c=r.user(d.pub).get(e).get(`${t}@${s.pub}`),l=await c.then();c.put(l?null:a,null,{opt:{cert:(i=d.features)==null?void 0:i[e]}})}else{let c=r.user(d.pub).get("posts");n?c=c.get(`${t}:${e}@${s.pub}`):c=c.get(`${e}:${t}@${s.pub}`);let l=await c.then();c.put(l?null:a,null,{opt:{cert:(u=d.features)==null?void 0:u.posts}})}}function Ut(e){const t={};for(let n in e){let a=e[n];a&&(t[a]=t[a]||[],t[a].push(n))}return t}function It(e){let t=0;for(let n in e)e[n]&&e[n]!="\u{1F5D1}"?t++:e[n]=="\u{1F5D1}"&&t--;return t}function zt(e){const t=h(),n=o.reactive({});return t.user(d.pub).get("posts").map().on((a,s)=>{var c;let r=s.slice(90),i=s.substring(0,44),u=s.substring(45,89);r==e&&(a?(n[a]=n[a]||{},n[a][u]=i):(c=n==null?void 0:n[a])==null||delete c[u])}),n}function ue(){const e=new o.JSZip;async function t({title:r,file:i,folder:u="."}={}){const c=Fe(i),l=De(i),g=await fetch(i).then(f=>f.blob()),p=`${r}.${l}`;return e.file(`${u}/${p}`,g,c),p}function n({md:r,title:i}={}){e.file(`${i}/index.md`,Re(r),"text/markdown")}async function a(r={}){let{icon:i,cover:u,text:c,title:l,statement:g}=r;r==null||delete r.text,l||(l=g?g.split(0,12):Pe());const p=["cover","icon"];for(let f of p){let m=await ae(f,r[f]);if(m){const v=await t({title:f,file:m,folder:l});r[f]=v}}c=await ae("text",c),n({title:l,md:{frontmatter:r,text:c}})}async function s({title:r="",addDate:i=!0}={}){let u=new Date;const c=u.getTimezoneOffset();u=new Date(u.getTime()-c*60*1e3);const l=u.toISOString().split("T")[0],g=await e.generateAsync({type:"blob",comment:`Exported from ${r} at ${location} on ${l}`,compression:"DEFLATE",compressionOptions:{level:9}}),p=`${r}-${l}.zip`;return Ae(g,"application/zip",p),!0}return{zip:e,zipPost:a,addMd:n,addFile:t,downloadZip:s}}const $={pub:"OUlhoY2Eq8QkZE_iWN3l6J2vvbkX33vowcFdqFoCoEQ.a-B1ImQK4aoiEpdW-38MAPc8oi16DHY57bDJ4dEZpX0",hosts:{"jFjrmOEaRy-GAJlOCdG4SGoaLm_4AGMPP1sfmzYPwwo.mp2H7IQuTWlFSahN6ZnXN9Za0pD3thiIYUyGCaMel-M":{enc:'SEA{"ct":"pvG4zoG5OIM7gyT5Jsh+PuFLAf200NKIpa7X/OxNm+lneWOD6avNS9iEXx9GgTM18iSdE3CBrKydusfLcqiXFFfMZivXsUTnf2Mbe702drcEcr7x9JTRhEqo3ptmunn+a+NUtfOPeExNFSCKoqfdMzSIR/nZFdW/qGcV5DDZOjuYdbV9Sh1rbvDPThJNJERz3WioLv3SodSXo4J5pq+2NujebALBabIZJYw2RXOxPjRMSnaYjT4lAZTA3FCy4mmP9fReVNw46Zjs6GYoZzIer0E4q5thRKyzf9IDFRJLfwpjejYY/fQWW4YFffN+1QBOjDAysCws+nCBSmFeKuAr2vFTvzdUI7gcoeKOc16BRnTC5NF8qQnXMS4XoilvueQ4as2mffG6iEwUiU5TicZO77+fARiUfG5WIgjEdkE=","iv":"a6bjav88otAnmjv6iB/r","s":"W+WzjXaZ4EAu"}',profile:'SEA{"m":{"c":"jFjrmOEaRy-GAJlOCdG4SGoaLm_4AGMPP1sfmzYPwwo.mp2H7IQuTWlFSahN6ZnXN9Za0pD3thiIYUyGCaMel-M","w":{"*":"profile"}},"s":"YIGcs8VXeD4eB21MFPM/wnpJnMkmuxX6wjA/1GD170ATGBob9Ps3WCGtRUyhT2AmCIOe7oXpinZdtd3SCSZh/A=="}',features:'SEA{"m":{"c":"jFjrmOEaRy-GAJlOCdG4SGoaLm_4AGMPP1sfmzYPwwo.mp2H7IQuTWlFSahN6ZnXN9Za0pD3thiIYUyGCaMel-M","w":{"*":"features"}},"s":"vhnmYfslzJm6qWTUBp4meKtlzAkIxyayRJa1KNeCFJT27T7UX4X//+t5giRX6Z/rIz3aWEPZX9UK3LLhc/J91g=="}',hosts:'SEA{"m":{"c":"jFjrmOEaRy-GAJlOCdG4SGoaLm_4AGMPP1sfmzYPwwo.mp2H7IQuTWlFSahN6ZnXN9Za0pD3thiIYUyGCaMel-M","w":{"*":"hosts"}},"s":"2x5ZTh1NYv+eCtRKwlKItC1j9ZV5YhhiWJiaNq8Y+8YBF93aaagY6CT0YzLYFvG/fKTBWN4lldaeI+cFV88AbA=="}'}},features:{rooms:'SEA{"m":{"c":"*","w":{"*":"rooms","+":"*"}},"s":"iJjnFrGvM092KSqH9kUYJm0pBgd6HSg8b9kl9QPjdQYNDAZQe2btfDP6rXIVNPcYFIjEYqBCibuQhcAjODUQFg=="}',space:'SEA{"m":{"c":"*","w":{"*":"space","+":"*"}},"s":"eTZNu+acczsk8ew+UKCseanlVJ4prm+N1cvLXe2T6Bccfk6a7gR5EjvyBat4iCv97HpcoYtfcQO1ImhgVzP/bQ=="}',posts:'SEA{"m":{"c":"*","w":{"*":"posts","+":"*"}},"s":"g94jrn4qvausK0sf5ej+MDIqJr9QOyG6U/fwAfmjxWcxCSiVzra8ZhvwOA3PVsqdcRYMK9YFMZ2cNJhT84ew/w=="}',chat:'SEA{"m":{"c":"*","w":{"*":"chat","+":"*"}},"s":"Nclaw2A61Dzx6wLNeGSFr+od7bdj0jYftz/8XDRTZTUUp42xnD1Hyp2GbmFGKrY8be+60XOxYB0Tcp+ewkPimA=="}',dict:'SEA{"m":{"c":"*","w":{"*":"dict","+":"*"}},"s":"cmnSSjKGrbxEoJ3JyGfgeesLJ3fELC6aIy3nO4MmSLok4ZNxpx2HayQaQmi+8gfgwX86poYUm1WR2bDdUAgzmw=="}',projects:'SEA{"m":{"c":"*","w":{"*":"projects","+":"*"}},"s":"Zx/1sVapPoqx0pVMrMElSWVwBbD1AH0uPP11/tte2qHUmww458tqwRNfC3XMhZVl/fR589I3VWoUXSfNGDPj+g=="}',gifts:'SEA{"m":{"c":"*","w":{"*":"gifts","+":"*"}},"s":"YpWMF8FpZToI4KCc4ZxR4zBChQMF+C6HQF1maNpDyA6g9t/DY9tejELG+mc2CqcV9mDU/km2q7EeaZGnxQsREA=="}'}},d=o.reactive({pub:$.pub,isRoot:o.computed(()=>d.pub==$.pub),hosts:{},features:{},profile:{}});o.watchEffect(()=>{const e=h();d.pub==$.pub?(d.hosts=$.hosts,d.features=$.features):(d.features={},d.hosts={},e.user(d.pub).get("hosts").map().once((t,n)=>{d.hosts[n]=t}),e.user(d.pub).get("features").map().once((t,n)=>{d.features[n]=t}))});function Kt(e=d.pub){const t=o.reactive({pub:e,isRoot:e!=$.pub,hosts:{},features:{},profile:{}}),n=h();return n.user(e).get("profile").map().on((a,s)=>{t.profile[s]=a}),n.user(e).get("hosts").map().once((a,s)=>{t.hosts[s]=a}),n.user(e).get("features").map().once((a,s)=>{t.features[s]=a}),{room:t,submitRoom:Ge,enterRoom:Be,createRoom:X,leaveRoom:Ue,updateRoomProfile:W}}function Jt(e=d.pub){const t=o.ref();exports.gun.user(e).get("profile").get("logo").on(s=>{if(!s){t.value=null;return}exports.gun.get("#logos").get(s).once(r=>{t.value=r})});async function n(s){if(s){const r=await I(s);exports.gun.get("#logos").get(r).put(s),W("logo",r)}else a()}function a(){W("logo",null)}return{logo:t,uploadLogo:n,removeLogo:a}}function Ht(){return{rooms:o.computed(()=>$e("rooms",d.pub)),createRoom:X}}function $e(e,t=d.pub){const n=h(),a=o.reactive({});return n.user(t).get(`${e}`).map().on(function(s,r){let i=r.substring(0,87);a[i]=a[i]||{},a[i][r.substring(88)]=s}),a}function W(e,t){var r,i;const n=h(),{user:a}=A();let s=(i=(r=d.hosts)==null?void 0:r[a.pub])==null?void 0:i.profile;n.user(d.pub).get("profile").get(e).put(t,null,{opt:{cert:s}})}async function X({pair:e,name:t}={}){var l;const{user:n}=A();if(!e)return;const a=await te({pair:e,list:[{tag:"profile",users:[n.pub]},{tag:"features",users:[n.pub]},{tag:"hosts",users:[n.pub]}]}),s=await te({pair:e,list:[{tag:"rooms",personal:!0},{tag:"space",personal:!0},{tag:"posts",personal:!0},{tag:"chat",personal:!0},{tag:"dict",personal:!0},{tag:"projects",personal:!0},{tag:"gifts",personal:!0}]}),r=await o.SEA.encrypt(e,n.pair()),i=await o.SEA.decrypt(r,n.pair());console.log("COPY THIS ROOM INFO TO USE IT AS A ROOT",{pub:i.pub,hosts:{[n.pub]:{enc:r,...a}},features:s},"STORE THIS KEY PAIR IN A SAFE PLACE",i);const u=h();u.user().get("safe").get("rooms").get(i.pub).put(r),u.user(d.pub).get("rooms").get(`${i.pub}@${n.pub}`).put(!0,null,{opt:{cert:(l=d==null?void 0:d.features)==null?void 0:l.rooms}});const c=u.user(i.pub);c.get("hosts").get(n.pub).put({enc:r,...a},null,{opt:{cert:a.hosts}}),c.get("features").put(s,null,{opt:{cert:a.features}}),t&&c.get("profile").put({name:t},null,{opt:{cert:a.profile}})}async function Zt(e){const t=await o.SEA.decrypt(e,w.pair());X({pair:t})}async function Ge(e){var a;const t=h(),n=await t.user(d.pub).get("rooms").get(`${e}@${w.pub}`).then();t.user(d.pub).get("rooms").get(`${e}@${w.pub}`).put(!n,null,{opt:{cert:(a=d.features)==null?void 0:a.rooms}})}function Yt(){var t;h().user(d.pub).get("space").get(w.pub).put(JSON.stringify({x:Math.random(),y:Math.random()}),null,{opt:{cert:(t=d.features)==null?void 0:t.space}})}function Be(e){d.pub=e}function Ue(){d.pub=$.pub}async function Wt({tag:e,key:t,text:n,pub:a=d.pub,cert:s}={}){var r;if(s||(s=await exports.gun.user(a).get("features").get(e).then()),s||(s=(r=d.features)==null?void 0:r[`${e}`]),!s&&a!=w.pub){console.log("No certificate found");return}exports.gun.user(a).get(`${e}`).get(`${t}@${w.pub}`).put(n,null,{opt:{cert:s}})}let Q=Date.now();function qt({TIMEOUT:e=1e4}={}){const t=h(),n=o.reactive({}),a=o.reactive({}),s=o.reactive({}),r=o.reactive({total:o.computed(()=>Object.keys(n).length),online:o.computed(()=>Object.keys(a).length),offline:o.computed(()=>Object.keys(s).length)});return t.user(d.pub).get("space").map().once((i,u)=>{const{account:c}=ye(u);n[u]=c,n[u].order=o.computed(()=>Q-c.value.pulse<e?1:Q-c.value.pulse),n[u].online=o.computed(()=>Q-c.value.pulse<e)}),o.watchEffect(()=>{for(let i in n)n[i].online?(a[i]=n[i],delete s[i]):(s[i]=n[i],delete a[i])}),{guests:n,online:a,offline:s,count:r}}function Xt(){A();const e=h(),t=o.reactive({});return e.user(d.pub).get(F).map().once((n,a)=>{e.get("#"+F).get(a.slice(0,-88)).once((s,r)=>{try{const i=JSON.parse(s);t[r]=i}catch{}})}),{gifts:t}}function Vt(){const{user:e}=A(),t=h(),n=o.reactive({}),a=o.reactive({}),s=o.reactive({});t.user().get(F).map().on((i,u)=>{t.get("#"+F).get(u).once(c=>{try{c=JSON.parse(c),n[u]=c,c.from==e.pub&&(a[u]=c),c.to==e.pub&&(s[u]=c)}catch{}})});const r=o.reactive({});return t.user(d.pub).get(F).map().once(async(i,u)=>{let c=u.slice(0,-88);t.get("#"+F).get(c).once(async l=>{try{l=JSON.parse(l),l.to==e.pub&&(await t.user().get(F).get(c).then()||(r[c]=l))}catch{}})}),{gifts:n,from:a,to:s,newGifts:r}}function Qt(e){const t=e.slice(-87),n=h(),a=o.reactive({});n.user(t).get(F).map().once((r,i)=>{n.get("#"+F).get(i).once(u=>{try{u=JSON.parse(u),u.project==e&&(a[i]={...u,state:{}},n.user(u.from).get(F).get(i).on(c=>{a[i].state.from=c}),n.user(u.to).get(F).get(i).on(c=>{a[i].state.to=c}))}catch{}})});const s=o.computed(()=>{let r={};for(let i in a){let u=a[i];r[u.ql]=r[u.ql]||{list:{},sum:0,from:{}},r[u.ql].list[i]=u}for(let i in r){r[i].sum=0,r[i].from={};for(let u in r[i].list){let c=r[i].list[u];!(c.state.from&&c.state.to)||(r[i].sum+=Number(c.qn),r[i].from[c.from]=r[i].from[c.from]||0,r[i].from[c.from]+=Number(c.qn))}}return r});return{gifts:a,collections:s}}function _t(e){e||(e=w.pub);const t=o.reactive({}),n=h();return n.user(e).get("mates").map().once((a,s)=>{a?(t[s]={emoji:U(a),text:a},n.user(s).get("mates").get(e).on(r=>{r?t[s].back=U(r):delete t[s].back})):delete t[s]}),t}function U(e,t="\u{1F44B}"){if(!e||typeof e!="string")return;let n=o.exports.break(e)[0];return Ie(n)?n:t}function Ie(e){return/\p{Extended_Pictographic}/u.test(e)}function en(e){const t=o.ref("\u{1F44B}"),n=o.ref(!1),a=w.db.get("mates").get(e);a.on(r=>{n.value=U(r)});function s(){a.put(n.value?!1:U(t.value))}return{emoji:t,isMate:n,toggleMate:s}}const tn=se("deep"),nn=o.reactive({pub:null}),w=o.reactive({initiated:!1,auth:!1,is:null,name:"",pub:o.computed(()=>{var e;return(e=w==null?void 0:w.is)==null?void 0:e.pub}),color:o.computed(()=>w.pub?tn.hex(w.pub):"gray"),pulse:0,pulser:null,blink:!1,safe:{saved:null,password:null},pair(){var e,t,n,a;return(a=(n=(t=(e=exports.gun)==null?void 0:e.user)==null?void 0:t.call(e))==null?void 0:n._)==null?void 0:a.sea}});function A(){if(!w.initiated){const e=h();w.db=e.user(),e.user().recall({sessionStorage:!0},()=>{console.log("user was recalled")}),e.on("auth",()=>{an(),console.log("user authenticated")}),w.initiated=!0}return{user:w,auth:J,leave:ze}}function an(){w.is=exports.gun.user().is,w.pulser&&clearInterval(w.pulser),w.pulser=setInterval(()=>{exports.gun.user().get("pulse").put(Date.now())},1e3),exports.gun.user().get("epub").put(w.is.epub),exports.gun.user().get("pulse").on(e=>{w.blink=!w.blink,w.pulse=e}),exports.gun.user().get("safe").map().on((e,t)=>{w.safe[t]=e}),exports.gun.user().get("profile").get("name").on(e=>w.name=e),w.initiated=!0}async function J(e,t=()=>{}){if(!le(e)){console.log("incorrect pair",e);return}exports.gun.user().auth(e,async()=>{t(e),console.log("user is authenticated")})}function ze(){var t;let e=!!((t=w.is)!=null&&t.pub);w.initiated=!1,clearInterval(w.pulser),exports.gun.user().leave(),setTimeout(()=>{e&&!w.pair()&&(w.is=null,console.info("User logged out"))},500)}function on(e){if(!!e)return e.slice(1,88)==w.pub}function sn(e){exports.gun.user().get("profile").get(e).put("")}function rn(e,t){e&&t!==void 0&&exports.gun.user().get("profile").get(e).put(t)}function le(e){return e&&typeof e=="object"&&e.pub&&e.epub&&e.priv&&e.epriv}const S=o.reactive({input:"",show:!1,safePair:!1,minLength:5,safe:{},dec:{},links:{pass:o.computed(()=>{var e;return fe((e=S.safe)==null?void 0:e.enc)}),pair:o.computed(()=>fe(JSON.stringify(w.pair())))},set(){Ke(S.input),S.input="",S.show=!1}});function fe(e=""){let t=o.base32.encode(e);return window.location.origin+window.location.pathname+"#/auth/"+t}function cn(e){let t=e.indexOf("#/auth/"),n=e.substr(t+7);return o.base32.decode(n)}let me=!1;function un(){return me||(h().user().get("safe").map().on((t,n)=>{S.safe[n]=t}),o.watchEffect(async()=>{var t,n;if(!S.show){S.dec={};return}(S==null?void 0:S.show)&&((t=S==null?void 0:S.safe)==null?void 0:t.pass)&&(S.dec.pass=await o.SEA.decrypt(S.safe.pass,w.pair()),S.input=S.dec.pass),S.show&&((n=S==null?void 0:S.safe)==null?void 0:n.enc)&&(S.dec.pair=await o.SEA.decrypt(S.safe.enc,S.dec.pass))})),me=!0,{pass:S,setPass:Ke,logWithPass:dn}}async function ln(e){return await exports.gun.get(`~${e}`).get("safe").get("enc").then()}async function dn(e,t){let n=await exports.gun.get(`~${e}`).get("safe").get("enc").then(),a=await o.SEA.decrypt(n,t);J(a)}async function Ke(e){let t=await o.SEA.encrypt(w.pair(),e),n=await o.SEA.encrypt(e,w.pair());w.db.get("safe").get("enc").put(t),w.db.get("safe").get("pass").put(n)}function fn(e,t){if(!e)return;const n=o.base32.decode(e);if(n.substring(0,3)=="SEA")return t&&mn(n,t),"encrypted";try{let a=JSON.parse(n);return le(a)&&J(a),"success"}catch{return"incorrect link"}}async function mn(e,t){let n=await o.SEA.decrypt(e,t);J(n)}function gn(e){const t=h(),n=o.reactive({}),a=o.reactive({from:!1,to:!1,complete:o.computed(()=>a.from&&a.to),status:o.computed(()=>a.from?a.to?"complete":"proposed":"canceled")});return t.get("#"+F).get(e).once((s,r)=>{try{Object.assign(n,JSON.parse(s)),t.user(n.from).get(F).get(r).on(i=>{a.from=i}),t.user(n.to).get(F).get(r).on(i=>{a.to=i})}catch{}}),{gift:n,state:a}}async function pn(e,t=!0){const{user:n}=A();n.db.get(F).get(e).put(t)}function vn(e){const{user:t}=A(),{now:n,pause:a}=o.useNow({interval:1e3,controls:!0}),s=o.reactive({from:o.computed(()=>t==null?void 0:t.pub),to:"",qn:null,ql:null,wish:"",project:"",date:o.computed(()=>n.value.toLocaleString("en-GB")),room:o.computed(()=>d.pub)}),r=o.computed(()=>{let f=Je(s);return f.qn=Number(f.qn),f}),i=["from","to","qn","ql"],u=o.computed(()=>i.reduce((m,v)=>m&&s[v],!0));o.watch(s,f=>{f.project&&(s.to=f.project.slice(-87))});const c=o.computedAsync(async()=>{const{hash:f,hashed:m}=await K(r.value);return f}),l=o.ref(!1);Object.assign(s,e);const g=h();async function p(){var v;const{hash:f,hashed:m}=await K(r.value);g.get("#"+F).get(f).put(m),g.user().get(F).get(f).put("proposed",()=>{a(),l.value=!0}),(v=d.features)!=null&&v.gifts&&g.user(d.pub).get(F).get(`${f}@${t.pub}`).put(!0,()=>{console.log(`gift ${f} published`)},{opt:{cert:d.features.gifts}})}return{gift:s,cleanGift:r,valid:u,propose:p,proposed:l,hash:c}}function Je(e){return Object.entries(e).filter(([t,n])=>!!n).reduce((t,[n,a])=>({...t,[n]:a===Object(a)?Je(a):a}),{})}const F="gifts",hn={from:"",to:"",qn:0,ql:"",wish:"",project:"",room:d.pub,date:""};function wn(e){const t=Object.entries(e.data);let n=t.sort((a,s)=>{if(!a||!s)return 0;let r=Date.parse(a[0]);return Date.parse(s[0])-r});postMessage({sorted:n,count:t.length})}const He=function(e){var t=URL.createObjectURL(new Blob(["onmessage=",e.toString()],{type:"application/javascript"})),n=new Worker(t);return URL.revokeObjectURL(t),n};function bn(e){const t=Object.entries(e.data);let n=t.sort((a,s)=>{if(!a||!s)return 0;let r=Date.parse(a[0]);return Date.parse(s[0])-r});postMessage({sorted:n,count:t.length})}function yn({name:e="logs",after:t="2021-01-01",before:n="2023-01-01"}={}){const s=h().get(e),r=new o.index_umd.exports.DateTree(s,"minute"),i=o.reactive({}),u=o.ref([]),c=o.ref(0);let l;o.onMounted(()=>{var p=He(bn);l=r.on(function(f,m){!(f!=null&&f.event)||(i[m]=f)},{gte:t,lt:n}),o.watchEffect(()=>{p.postMessage(JSON.parse(JSON.stringify(i)))}),p.onmessage=f=>{u.value=f.data.sorted,c.value=f.data.count}}),o.onBeforeUnmount(()=>{l.off()});function g(p){!p||r.get(new Date).put({event:"now",data:p})}return{dateTree:i,sorted:u,count:c,putNow:g}}function Sn(e="text",t){if(!t){console.log("No data to log");return}const n=new o.index_umd.exports.DateTree(exports.gun.get("logs"),"minute");let a={event:e,...t};n.get(new Date).put(a)}function Pn(e){if(!e)return;let t=new Date(e);return{date:t.toLocaleDateString("en-CA"),time:t.toLocaleTimeString("ru-RU"),ms:o.ms(Date.now()-t.getTime())}}const G=o.reactive({title:"",public:!0,funding:!1});async function kn({publish:e=!0}={}){const t=h(),{user:n}=A(),a=t.user().get(L).get(G.title).put(G,()=>{var s;!e||(t.user(d.pub).get(L).get(G.title+"@"+n.pub).put(a,null,{opt:{cert:(s=d.features)==null?void 0:s.projects}}),G.title=null)})}function jn(e,t,n){const a=exports.gun.user().get(L).get(e);a.get(t).put(n,()=>{a.get("updatedAt").put(Date.now())})}function An(e=o.ref()){e=o.ref(e);const t=h();return{project:o.computed(()=>{const a=o.reactive({});return t.user(d.pub).get(L).get(e.value).map().on((s,r)=>{a[r]=s}),a})}}async function En(e){var s;const t=h(),n=Se(),{user:a}=A();if(e.includes(a.pub))t.user(d.pub).get(L).get(e).put(null,null,{opt:{cert:(s=d.features)==null?void 0:s.projects}});else if(d.hosts[a.pub]){const r=await o.browser.exports.SEA.decrypt(d.hosts[a.pub].enc,a.pair());n.user().auth(r,()=>{n.user().get(L).get(e).put(null)})}}function Fn(e=d.pub){const t=o.ref(""),n=o.reactive({}),a=o.computed(()=>{const i=Object.entries(n).map(u=>({...u[1],path:u[0]}));return new o.Fuse(i,{includeScore:!0,ignoreLocation:!0,keys:["title"]})}),s=o.computed(()=>G.title?a.value.search(G.title):Object.entries(n).map(i=>({item:{...i[1],path:i[0]}})));return h().user(e).get(L).map().on((i,u)=>{if(i==null){delete n[u];return}const c={...i,path:u};delete c._,n[u]=c}),{projects:n,search:t,candidates:s}}function Dn(e=d.pub){const t=o.reactive({});return h().user(e).get(L).map().on((a,s)=>{if(a==null){delete t[s];return}t[s]=!0}),o.computed(()=>Object.keys(t).length)}const L="projects";function Rn({TIMEOUT:e=1e4,randomness:t=.1}={}){const n=o.ref(),{area:a,mouse:s}=be(n),{width:r,height:i}=o.useElementBounding(n),u=o.reactive([0,0]),c=o.useClamp(1,.5,2),l=h(),{user:g}=A(),p=o.reactive({title:"space",joined:!1,db:o.computed(()=>l.user(d.pub).get("space")),cert:o.computed(()=>{var P;return(P=d.features)==null?void 0:P.space}),my:{mouse:o.computed(()=>({x:s.x,y:s.y})),pos:null}});async function f(){p.joined=!0}function m({x:P=s.x,y:b=s.y}={}){var E;!g.pub||(p.joined||f(),u[0]=P,u[1]=b,p.db.get(g.pub).get("pos").put(JSON.stringify({x:P,y:b}),null,{opt:{cert:(E=d.features)==null?void 0:E.space}}))}const v=o.reactive({}),y=o.reactive({}),D=o.reactive({}),C=o.computed(()=>{var b;const P={};for(let E in v)Date.now()-((b=v[E])==null?void 0:b.pulse)<e&&(P[E]=v[E]);return P}),z=o.computed(()=>Object.keys(C.value).length);l.user(d.pub).get("space").map().once(async(P,b)=>{b==g.pub&&(p.joined=!0),v[b]={pub:b,draw:"",blink:!1,pulse:0,hasPos:!1,pos:{x:0,y:0}},l.user(d.pub).get("space").get(b).get("pos").on((E,H)=>{v[b].hasPos=!0,v[b].pos=typeof E=="string"?JSON.parse(E):E}),l.user(d.pub).get("space").get(b).get("draw").on(E=>{v[b].draw=E}),l.user(b).get("pulse").on(E=>{v[b].pulse=E,v[b].blink=!v[b].blink}).back().get("mates").map().on((E,H)=>{y[b]=y[b]||{},y[b][H]=E})});const k={};return o.watchEffect(()=>{for(let P in y){k[P]=k[P]||{};for(let b in y[P]){let E=k[P][b]=k[P][b]||Math.random()*t;if(y[P][b]){const H=y[P][b];let M=v[P],T=v[b],We=Date.now()*2-(M==null?void 0:M.pulse)-(T==null?void 0:T.pulse);M&&T&&(M==null?void 0:M.hasPos)&&(T==null?void 0:T.hasPos)&&We<e&&(D[P+b]={user:P,mate:b,emoji:U(H),from:M.pos,to:T.pos,arrow:On(M.pos,T.pos,E)})}else delete D[P+b]}}}),{space:p,allGuests:v,guests:C,guestCount:z,links:D,plane:n,width:r,height:i,pos:u,zoom:c,area:a,join:f,place:m}}function On(e,t,n=0){let a=o.getArrow(e.x,e.y,t.x,t.y,{padEnd:20,padStart:10});const[s,r,i,u,c,l,g,p,f,m]=a;return{sx:s,sy:r,c1x:i*(1-n+2*n),c1y:u*(1-n+2*n),c2x:c*(1-n+2*n),c2y:l*(1-n+2*n),ex:g,ey:p,ae:f,as:m}}const j=o.reactive({colors:["#000000",...new Array(12).fill(!0).map((e,t)=>`hsl(${t*30}, 100%,50%)`),"#ffffff"],sizes:o.useCycleList([4,8,16,24]),modes:["line","arrow","stylus","rectangle","ellipse"],mode:o.computed({get(){return ge.value},set(e){ge.value=e,e==="arrow"?(N.mode="line",N.arrowEnd=!0):(N.mode=e,N.arrowEnd=!1)}}),enabled:!1,pinned:o.useStorage("drawing-pinned",!1),canUndo:!1,canRedo:!1,canClear:!1,ing:!1,initiated:!1,content:""}),N=o.toReactive(o.useStorage("drawing-brush",{color:j.colors[0],size:10,mode:"stylus"})),ge=o.ref("stylus");let oe=!1;const Ze=o.reactive({brush:N,acceptsInputTypes:o.computed(()=>j.enabled?void 0:["pen"])}),R=o.markRaw(o.createDrauu(Ze));function Z(e){oe=!0,j.content!=null?R.load(j.content):R.clear(),oe=!1}function Ye(){var e;j.canRedo=R.canRedo(),j.canUndo=R.canUndo(),j.canClear=!!((e=R.el)!=null&&e.children.length)}function Cn(){if(!j.initiated){const e=h(),{user:t}=A(),n=e.user(d.pub).get("space").get(t.pub).get("draw");n.on(s=>{j.ing||(j.content=s,Z())});const a=o.useDebounceFn(()=>{var s;if(Ye(),!oe){let r=R.dump();j.content=r,e.user(d.pub).get("space").get(t.pub).get("draw").put(r,null,{opt:{cert:(s=d.features)==null?void 0:s.space}})}},200);R.on("changed",a),o.onMounted(()=>{o.nextTick(()=>{Z()})}),R.on("start",()=>j.ing=!0),R.on("end",()=>j.ing=!1),j.clear=()=>{var s;R.clear(),j.content="",n.put("",null,{opt:{cert:(s=d.features)==null?void 0:s.space}})},window.addEventListener("keydown",s=>{if(!j.enabled)return;const r=!s.ctrlKey&&!s.altKey&&!s.shiftKey&&!s.metaKey;let i=!0;s.code==="KeyZ"&&(s.ctrlKey||s.metaKey)?s.shiftKey?R.redo():R.undo():s.code==="Escape"?j.enabled=!1:s.code==="KeyC"&&(s.ctrlKey||s.metaKey)?j.clear():s.code.startsWith("Digit")&&r&&+s.code[5]<=brushColors.length?N.color=brushColors[+s.code[5]-1]:i=!1,i&&(s.preventDefault(),s.stopPropagation())},!1)}return j.initiated=!0,{brush:N,draw:j,drauu:R,loadCanvas:Z}}exports.SEA=o.SEA;exports.gunAvatar=o.gunAvatar;exports.mountClass=o.mountClass;exports.mountElement=o.mountElement;exports.ms=o.ms;exports.slugify=o.slugify;exports.addHashedPersonal=Nt;exports.addPersonal=Wt;exports.addPost=Me;exports.addProfileField=sn;exports.auth=J;exports.base64Extension=De;exports.base64FileType=Fe;exports.base64MimeType=Rt;exports.brush=N;exports.countProjects=Dn;exports.countRating=It;exports.createMd=Re;exports.createRoom=X;exports.currentRoom=d;exports.decFrom=ut;exports.defaultGift=hn;exports.defaultPeer=re;exports.detectMimeType=ne;exports.dictLang=Y;exports.dictRecord=x;exports.downloadFeed=xe;exports.downloadFile=Ae;exports.downloadPost=Te;exports.drauu=R;exports.drauuOptions=Ze;exports.draw=j;exports.encFor=ct;exports.enterRoom=Be;exports.formatDate=Pn;exports.genUUID=Pe;exports.generateCerts=te;exports.getFirstEmoji=U;exports.getHashedPersonal=$t;exports.getShortHash=lt;exports.giftPath=F;exports.giftState=pn;exports.hasPass=ln;exports.hashObj=K;exports.hashText=I;exports.isEmoji=Ie;exports.isHash=it;exports.isMine=on;exports.isPair=le;exports.issueCert=ie;exports.joinRoom=Yt;exports.langParts=jt;exports.languages=At;exports.leave=ze;exports.leaveRoom=Ue;exports.letterFilter=ce;exports.listPersonal=$e;exports.listPersonalTag=Lt;exports.loadCanvas=Z;exports.loadFromHash=ae;exports.loadRelays=ke;exports.logEvent=Sn;exports.newProject=G;exports.newWorker=He;exports.parseHashLink=q;exports.parseLink=cn;exports.parseMd=Oe;exports.parsePost=Ct;exports.pass=S;exports.peer=B;exports.projectsPath=L;exports.reactToPost=Ne;exports.recreateRoom=Zt;exports.relay=O;exports.removeProject=En;exports.renderStress=kt;exports.rootRoom=$;exports.safeHash=je;exports.safeJSONParse=gt;exports.selectedUser=nn;exports.sortByDate=wn;exports.soul=st;exports.submitRoom=Ge;exports.unsafeHash=ft;exports.updateProfile=rn;exports.updateProject=kn;exports.updateProjectField=jn;exports.updateRoomProfile=W;exports.updateState=Ye;exports.uploadFeed=Le;exports.uploadText=Et;exports.useAccount=ye;exports.useBackground=Xe;exports.useChat=Qe;exports.useColor=se;exports.useDefs=ht;exports.useDictAuthors=St;exports.useDictLangs=Pt;exports.useDictRecordsBy=yt;exports.useDictRecordsFor=bt;exports.useDraw=Cn;exports.useGift=gn;exports.useGifts=Xt;exports.useGuests=qt;exports.useGun=h;exports.useGun2=Se;exports.useLog=yn;exports.useMate=en;exports.useMates=_t;exports.useMd=Ot;exports.useMyGifts=Vt;exports.useNewGift=vn;exports.usePass=un;exports.usePassLink=fn;exports.usePictureUpload=Ft;exports.usePost=Ce;exports.usePostTimestamp=Mt;exports.usePosts=Tt;exports.usePrivateChat=_e;exports.usePrivateChatCount=et;exports.usePrivateChatList=tt;exports.useProject=An;exports.useProjectGifts=Qt;exports.useProjects=Fn;exports.useReaction=Bt;exports.useReactions=Ut;exports.useRelay=ot;exports.useRelays=rt;exports.useRoom=Kt;exports.useRoomLogo=Jt;exports.useRooms=Ht;exports.useSpace=Rn;exports.useSvgMouse=be;exports.useTagList=xt;exports.useUser=A;exports.useUserPosts=zt;exports.useWord=vt;exports.useWords=pt;exports.useZip=ue;exports.user=w;
//# sourceMappingURL=composables.js.map
